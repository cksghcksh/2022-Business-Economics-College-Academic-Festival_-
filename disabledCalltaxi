{"cells":[{"cell_type":"code","source":["#장애인 콜 시스템 분석\n","import requests\n","import pprint\n","import json\n","import pandas as pd\n","from os import name\n","import xml.etree.ElementTree as et\n","import bs4\n","from lxml import html\n","from urllib.parse import urlencode, quote_plus, unquote\n","\n","#API KEY\n","my_key = '46454c487563686139374b4a4a486f'\n","\n","start = '20220101'\n","end = '20220501'\n","\n","dt_index = pd.date_range(start = start, end = end)\n","dt_list = dt_index.strftime(\"%Y%m%d\").tolist()\n","Calltaxi1 = []\n","\n","endpoint=\"http://openapi.seoul.go.kr:8088/\" + my_key + \"/xml/disabledCalltaxi/1/5/20220101\"\n","resp = requests.get(endpoint)\n","xml_obj = bs4.BeautifulSoup(resp.text,'lxml-xml')\n","rows = xml_obj.findAll('item')\n","# 각 행의 컬럼, 이름, 값을 가지는 리스트 만들기\n","row_list = [] # 행값\n","name_list = [] # 열이름값\n","value_list = [] #데이터값\n","# xml 안의 데이터 수집\n","for k in range(0, len(rows)):\n","      columns = rows[k].find_all()\n","      for j in range(0,len(columns)):\n","        if k ==0:\n","          name_list.append(columns[j].name)\n","        value_list.append(columns[j].text)\n","row_list.append(value_list)\n","Calltaxi1 = pd.DataFrame({'row_list' : row_list}, columns=name_list)"],"metadata":{"id":"A6UE288WB1NK","executionInfo":{"status":"ok","timestamp":1651674495521,"user_tz":-540,"elapsed":2293,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":140,"outputs":[]},{"cell_type":"code","source":["for i in dt_list:\n","    endpoint=f\"http://openapi.seoul.go.kr:8088/\" + my_key + \"/xml/disabledCalltaxi/1/5/\" + i\n","    resp = requests.get(endpoint)\n","    xml_obj = bs4.BeautifulSoup(resp.text,'lxml-xml')\n","    rows = xml_obj.findAll('item')\n","    # 각 행의 컬럼, 이름, 값을 가지는 리스트 만들기\n","    row_list = [] # 행값\n","    value_list = [] #데이터값\n","    # xml 안의 데이터 수집\n","    for k in range(1, len(rows)):\n","          columns = rows[k].find_all()\n","          for j in range(0,len(columns)):\n","            value_list.append(columns[j].text)\n","    row_list.append(value_list)\n","    value_list = []\n","    l=0\n","    while True:\n","      lst=[]\n","      if l == len(row_list[0]): break\n","      lst.append(row_list[0][l:l+9])\n","      l+=9\n","      Calltaxi = pd.DataFrame(lst, columns=name_list)\n","      Calltaxi1 = pd.concat([Calltaxi1, Calltaxi])\n","      del Calltaxi"],"metadata":{"id":"dC4stddCB6WU","executionInfo":{"status":"ok","timestamp":1651674730213,"user_tz":-540,"elapsed":234695,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":141,"outputs":[]},{"cell_type":"code","source":["Calltaxi2 = Calltaxi1.sort_values('receipttime')"],"metadata":{"id":"GyDtdbUMEQE_","executionInfo":{"status":"ok","timestamp":1651674730215,"user_tz":-540,"elapsed":12,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":142,"outputs":[]},{"cell_type":"code","source":["Calltaxi2 = Calltaxi2.drop_duplicates()"],"metadata":{"id":"fUXu5uKNESdn","executionInfo":{"status":"ok","timestamp":1651674730218,"user_tz":-540,"elapsed":14,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":143,"outputs":[]},{"cell_type":"code","source":["Calltaxi2"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"id":"3XYV-k01IDcM","executionInfo":{"status":"ok","timestamp":1651674730219,"user_tz":-540,"elapsed":15,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"875cd27d-d744-4372-fda6-97229f2defe9"},"execution_count":144,"outputs":[{"output_type":"execute_result","data":{"text/plain":["      no cartype             receipttime                 settime  \\\n","0   8196   중형 승합  2022-01-01 오전 10:00:00  2022-01-01 오전 10:08:25   \n","0   9165   중형 승합  2022-01-01 오전 10:00:00  2022-01-01 오전 10:05:55   \n","0   9154   중형 승합  2022-01-01 오전 10:00:00  2022-01-01 오전 10:08:31   \n","0   4694   중형 승합  2022-01-01 오전 10:00:00  2022-01-01 오전 10:03:42   \n","0   5643    중형승합  2022-01-01 오전 10:00:00  2022-01-01 오전 10:08:54   \n","..   ...     ...                     ...                     ...   \n","0   8029   중형 승합   2022-05-01 오전 9:15:00   2022-05-01 오전 9:17:21   \n","0   7630    중형승합   2022-05-01 오전 9:15:00   2022-05-01 오전 9:17:14   \n","0   8214    중형승합   2022-05-01 오전 9:15:00   2022-05-01 오전 9:21:36   \n","0   4154    중형승합   2022-05-01 오전 9:16:00   2022-05-01 오전 9:17:15   \n","0   3627    중형승합   2022-05-01 오전 9:16:00   2022-05-01 오전 9:20:14   \n","\n","                  ridetime startpos1 startpos2 endpos1 endpos2  \n","0   2022-01-01 오전 10:25:34       성북구     장위제3동     종로구     이화동  \n","0   2022-01-01 오전 10:22:58       노원구      월계1동    동대문구   제기제1동  \n","0   2022-01-01 오전 10:15:13       노원구    상계6.7동     송파구    잠실6동  \n","0   2022-01-01 오전 10:22:45       구로구     오류제2동     구로구   오류제2동  \n","0   2022-01-01 오전 10:40:57      영등포구     대림제2동    영등포구    영등포동  \n","..                     ...       ...       ...     ...     ...  \n","0    2022-05-01 오전 9:37:30       강서구     가양제3동    영등포구     여의동  \n","0    2022-05-01 오전 9:38:21       강서구     가양제2동     강서구   화곡제6동  \n","0    2022-05-01 오전 9:45:00       송파구      방이2동     송파구    잠실6동  \n","0    2022-05-01 오전 9:39:42       동작구       대방동     관악구     신사동  \n","0    2022-05-01 오전 9:38:51       동작구    노량진제2동    영등포구   신길제3동  \n","\n","[29731 rows x 9 columns]"],"text/html":["\n","  <div id=\"df-5dee75cc-7944-4cc2-9aab-be6021878e52\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>no</th>\n","      <th>cartype</th>\n","      <th>receipttime</th>\n","      <th>settime</th>\n","      <th>ridetime</th>\n","      <th>startpos1</th>\n","      <th>startpos2</th>\n","      <th>endpos1</th>\n","      <th>endpos2</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>8196</td>\n","      <td>중형 승합</td>\n","      <td>2022-01-01 오전 10:00:00</td>\n","      <td>2022-01-01 오전 10:08:25</td>\n","      <td>2022-01-01 오전 10:25:34</td>\n","      <td>성북구</td>\n","      <td>장위제3동</td>\n","      <td>종로구</td>\n","      <td>이화동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>9165</td>\n","      <td>중형 승합</td>\n","      <td>2022-01-01 오전 10:00:00</td>\n","      <td>2022-01-01 오전 10:05:55</td>\n","      <td>2022-01-01 오전 10:22:58</td>\n","      <td>노원구</td>\n","      <td>월계1동</td>\n","      <td>동대문구</td>\n","      <td>제기제1동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>9154</td>\n","      <td>중형 승합</td>\n","      <td>2022-01-01 오전 10:00:00</td>\n","      <td>2022-01-01 오전 10:08:31</td>\n","      <td>2022-01-01 오전 10:15:13</td>\n","      <td>노원구</td>\n","      <td>상계6.7동</td>\n","      <td>송파구</td>\n","      <td>잠실6동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>4694</td>\n","      <td>중형 승합</td>\n","      <td>2022-01-01 오전 10:00:00</td>\n","      <td>2022-01-01 오전 10:03:42</td>\n","      <td>2022-01-01 오전 10:22:45</td>\n","      <td>구로구</td>\n","      <td>오류제2동</td>\n","      <td>구로구</td>\n","      <td>오류제2동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>5643</td>\n","      <td>중형승합</td>\n","      <td>2022-01-01 오전 10:00:00</td>\n","      <td>2022-01-01 오전 10:08:54</td>\n","      <td>2022-01-01 오전 10:40:57</td>\n","      <td>영등포구</td>\n","      <td>대림제2동</td>\n","      <td>영등포구</td>\n","      <td>영등포동</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>8029</td>\n","      <td>중형 승합</td>\n","      <td>2022-05-01 오전 9:15:00</td>\n","      <td>2022-05-01 오전 9:17:21</td>\n","      <td>2022-05-01 오전 9:37:30</td>\n","      <td>강서구</td>\n","      <td>가양제3동</td>\n","      <td>영등포구</td>\n","      <td>여의동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>7630</td>\n","      <td>중형승합</td>\n","      <td>2022-05-01 오전 9:15:00</td>\n","      <td>2022-05-01 오전 9:17:14</td>\n","      <td>2022-05-01 오전 9:38:21</td>\n","      <td>강서구</td>\n","      <td>가양제2동</td>\n","      <td>강서구</td>\n","      <td>화곡제6동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>8214</td>\n","      <td>중형승합</td>\n","      <td>2022-05-01 오전 9:15:00</td>\n","      <td>2022-05-01 오전 9:21:36</td>\n","      <td>2022-05-01 오전 9:45:00</td>\n","      <td>송파구</td>\n","      <td>방이2동</td>\n","      <td>송파구</td>\n","      <td>잠실6동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>4154</td>\n","      <td>중형승합</td>\n","      <td>2022-05-01 오전 9:16:00</td>\n","      <td>2022-05-01 오전 9:17:15</td>\n","      <td>2022-05-01 오전 9:39:42</td>\n","      <td>동작구</td>\n","      <td>대방동</td>\n","      <td>관악구</td>\n","      <td>신사동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>3627</td>\n","      <td>중형승합</td>\n","      <td>2022-05-01 오전 9:16:00</td>\n","      <td>2022-05-01 오전 9:20:14</td>\n","      <td>2022-05-01 오전 9:38:51</td>\n","      <td>동작구</td>\n","      <td>노량진제2동</td>\n","      <td>영등포구</td>\n","      <td>신길제3동</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>29731 rows × 9 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-5dee75cc-7944-4cc2-9aab-be6021878e52')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-5dee75cc-7944-4cc2-9aab-be6021878e52 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-5dee75cc-7944-4cc2-9aab-be6021878e52');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":144}]},{"cell_type":"code","source":["Calltaxi2.to_csv(\"Calltaxi2.csv\")"],"metadata":{"id":"keLQJTe6XcHd","executionInfo":{"status":"ok","timestamp":1651674730793,"user_tz":-540,"elapsed":585,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":145,"outputs":[]},{"cell_type":"code","source":["Calltaxi = Calltaxi2[['no', 'startpos1', 'startpos2', 'endpos1', 'endpos2']]"],"metadata":{"id":"W3s77MDa9SMq","executionInfo":{"status":"ok","timestamp":1651674730794,"user_tz":-540,"elapsed":11,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":146,"outputs":[]},{"cell_type":"code","source":["Calltaxi = Calltaxi.rename(columns={'startpos1':'출발구', 'endpos1':'도착구', 'startpos2':'출발동', 'endpos2':'도착동'})"],"metadata":{"id":"YKiL0Q7F9BiH","executionInfo":{"status":"ok","timestamp":1651674730795,"user_tz":-540,"elapsed":11,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":147,"outputs":[]},{"cell_type":"code","source":["Calltaxi['출발지역'] = Calltaxi['출발구'] + Calltaxi['출발동']\n","Calltaxi['도착지역'] = Calltaxi['도착구'] + Calltaxi['도착동']"],"metadata":{"id":"0Cb-4lKa6bYS","executionInfo":{"status":"ok","timestamp":1651674730796,"user_tz":-540,"elapsed":12,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":148,"outputs":[]},{"cell_type":"code","source":["Calltaxi = Calltaxi[['no', '출발지역', '도착지역']]\n","Calltaxi.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"id":"Dtsm5EKJ-66v","executionInfo":{"status":"ok","timestamp":1651674730797,"user_tz":-540,"elapsed":13,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"70349a05-cc07-4a73-b796-928c3ed884c5"},"execution_count":149,"outputs":[{"output_type":"execute_result","data":{"text/plain":["     no       출발지역       도착지역\n","0  8196   성북구장위제3동     종로구이화동\n","0  9165    노원구월계1동  동대문구제기제1동\n","0  9154  노원구상계6.7동    송파구잠실6동\n","0  4694   구로구오류제2동   구로구오류제2동\n","0  5643  영등포구대림제2동   영등포구영등포동"],"text/html":["\n","  <div id=\"df-c259b629-c570-43f0-86c3-0661fc0aee4a\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>no</th>\n","      <th>출발지역</th>\n","      <th>도착지역</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>8196</td>\n","      <td>성북구장위제3동</td>\n","      <td>종로구이화동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>9165</td>\n","      <td>노원구월계1동</td>\n","      <td>동대문구제기제1동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>9154</td>\n","      <td>노원구상계6.7동</td>\n","      <td>송파구잠실6동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>4694</td>\n","      <td>구로구오류제2동</td>\n","      <td>구로구오류제2동</td>\n","    </tr>\n","    <tr>\n","      <th>0</th>\n","      <td>5643</td>\n","      <td>영등포구대림제2동</td>\n","      <td>영등포구영등포동</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-c259b629-c570-43f0-86c3-0661fc0aee4a')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-c259b629-c570-43f0-86c3-0661fc0aee4a button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-c259b629-c570-43f0-86c3-0661fc0aee4a');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":149}]},{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/gdrive')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"jkfY472r6RkW","executionInfo":{"status":"ok","timestamp":1651674732676,"user_tz":-540,"elapsed":1891,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"8ec01a55-cea1-42cb-f834-1c2f07d98596"},"execution_count":150,"outputs":[{"output_type":"stream","name":"stdout","text":["Drive already mounted at /content/gdrive; to attempt to forcibly remount, call drive.mount(\"/content/gdrive\", force_remount=True).\n"]}]},{"cell_type":"code","source":["from google.colab import files\n","myfile = files.upload()"],"metadata":{"colab":{"resources":{"http://localhost:8080/nbextensions/google.colab/files.js":{"data":"Ly8gQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQwovLwovLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgovLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKLy8KLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKLy8KLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQovLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAovLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAovLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCi8qKgogKiBAZmlsZW92ZXJ2aWV3IEhlbHBlcnMgZm9yIGdvb2dsZS5jb2xhYiBQeXRob24gbW9kdWxlLgogKi8KKGZ1bmN0aW9uKHNjb3BlKSB7CmZ1bmN0aW9uIHNwYW4odGV4dCwgc3R5bGVBdHRyaWJ1dGVzID0ge30pIHsKICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0OwogIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHN0eWxlQXR0cmlidXRlcykpIHsKICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHN0eWxlQXR0cmlidXRlc1trZXldOwogIH0KICByZXR1cm4gZWxlbWVudDsKfQoKLy8gTWF4IG51bWJlciBvZiBieXRlcyB3aGljaCB3aWxsIGJlIHVwbG9hZGVkIGF0IGEgdGltZS4KY29uc3QgTUFYX1BBWUxPQURfU0laRSA9IDEwMCAqIDEwMjQ7CgpmdW5jdGlvbiBfdXBsb2FkRmlsZXMoaW5wdXRJZCwgb3V0cHV0SWQpIHsKICBjb25zdCBzdGVwcyA9IHVwbG9hZEZpbGVzU3RlcChpbnB1dElkLCBvdXRwdXRJZCk7CiAgY29uc3Qgb3V0cHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG91dHB1dElkKTsKICAvLyBDYWNoZSBzdGVwcyBvbiB0aGUgb3V0cHV0RWxlbWVudCB0byBtYWtlIGl0IGF2YWlsYWJsZSBmb3IgdGhlIG5leHQgY2FsbAogIC8vIHRvIHVwbG9hZEZpbGVzQ29udGludWUgZnJvbSBQeXRob24uCiAgb3V0cHV0RWxlbWVudC5zdGVwcyA9IHN0ZXBzOwoKICByZXR1cm4gX3VwbG9hZEZpbGVzQ29udGludWUob3V0cHV0SWQpOwp9CgovLyBUaGlzIGlzIHJvdWdobHkgYW4gYXN5bmMgZ2VuZXJhdG9yIChub3Qgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyIHlldCksCi8vIHdoZXJlIHRoZXJlIGFyZSBtdWx0aXBsZSBhc3luY2hyb25vdXMgc3RlcHMgYW5kIHRoZSBQeXRob24gc2lkZSBpcyBnb2luZwovLyB0byBwb2xsIGZvciBjb21wbGV0aW9uIG9mIGVhY2ggc3RlcC4KLy8gVGhpcyB1c2VzIGEgUHJvbWlzZSB0byBibG9jayB0aGUgcHl0aG9uIHNpZGUgb24gY29tcGxldGlvbiBvZiBlYWNoIHN0ZXAsCi8vIHRoZW4gcGFzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHByZXZpb3VzIHN0ZXAgYXMgdGhlIGlucHV0IHRvIHRoZSBuZXh0IHN0ZXAuCmZ1bmN0aW9uIF91cGxvYWRGaWxlc0NvbnRpbnVlKG91dHB1dElkKSB7CiAgY29uc3Qgb3V0cHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG91dHB1dElkKTsKICBjb25zdCBzdGVwcyA9IG91dHB1dEVsZW1lbnQuc3RlcHM7CgogIGNvbnN0IG5leHQgPSBzdGVwcy5uZXh0KG91dHB1dEVsZW1lbnQubGFzdFByb21pc2VWYWx1ZSk7CiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXh0LnZhbHVlLnByb21pc2UpLnRoZW4oKHZhbHVlKSA9PiB7CiAgICAvLyBDYWNoZSB0aGUgbGFzdCBwcm9taXNlIHZhbHVlIHRvIG1ha2UgaXQgYXZhaWxhYmxlIHRvIHRoZSBuZXh0CiAgICAvLyBzdGVwIG9mIHRoZSBnZW5lcmF0b3IuCiAgICBvdXRwdXRFbGVtZW50Lmxhc3RQcm9taXNlVmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiBuZXh0LnZhbHVlLnJlc3BvbnNlOwogIH0pOwp9CgovKioKICogR2VuZXJhdG9yIGZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCBiZXR3ZWVuIGVhY2ggYXN5bmMgc3RlcCBvZiB0aGUgdXBsb2FkCiAqIHByb2Nlc3MuCiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dElkIEVsZW1lbnQgSUQgb2YgdGhlIGlucHV0IGZpbGUgcGlja2VyIGVsZW1lbnQuCiAqIEBwYXJhbSB7c3RyaW5nfSBvdXRwdXRJZCBFbGVtZW50IElEIG9mIHRoZSBvdXRwdXQgZGlzcGxheS4KICogQHJldHVybiB7IUl0ZXJhYmxlPCFPYmplY3Q+fSBJdGVyYWJsZSBvZiBuZXh0IHN0ZXBzLgogKi8KZnVuY3Rpb24qIHVwbG9hZEZpbGVzU3RlcChpbnB1dElkLCBvdXRwdXRJZCkgewogIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0SWQpOwogIGlucHV0RWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlOwoKICBjb25zdCBvdXRwdXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3V0cHV0SWQpOwogIG91dHB1dEVsZW1lbnQuaW5uZXJIVE1MID0gJyc7CgogIGNvbnN0IHBpY2tlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7CiAgICAgIHJlc29sdmUoZS50YXJnZXQuZmlsZXMpOwogICAgfSk7CiAgfSk7CgogIGNvbnN0IGNhbmNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogIGlucHV0RWxlbWVudC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGNhbmNlbCk7CiAgY2FuY2VsLnRleHRDb250ZW50ID0gJ0NhbmNlbCB1cGxvYWQnOwogIGNvbnN0IGNhbmNlbFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgY2FuY2VsLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgIHJlc29sdmUobnVsbCk7CiAgICB9OwogIH0pOwoKICAvLyBXYWl0IGZvciB0aGUgdXNlciB0byBwaWNrIHRoZSBmaWxlcy4KICBjb25zdCBmaWxlcyA9IHlpZWxkIHsKICAgIHByb21pc2U6IFByb21pc2UucmFjZShbcGlja2VkUHJvbWlzZSwgY2FuY2VsUHJvbWlzZV0pLAogICAgcmVzcG9uc2U6IHsKICAgICAgYWN0aW9uOiAnc3RhcnRpbmcnLAogICAgfQogIH07CgogIGNhbmNlbC5yZW1vdmUoKTsKCiAgLy8gRGlzYWJsZSB0aGUgaW5wdXQgZWxlbWVudCBzaW5jZSBmdXJ0aGVyIHBpY2tzIGFyZSBub3QgYWxsb3dlZC4KICBpbnB1dEVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlOwoKICBpZiAoIWZpbGVzKSB7CiAgICByZXR1cm4gewogICAgICByZXNwb25zZTogewogICAgICAgIGFjdGlvbjogJ2NvbXBsZXRlJywKICAgICAgfQogICAgfTsKICB9CgogIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykgewogICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpOwogICAgbGkuYXBwZW5kKHNwYW4oZmlsZS5uYW1lLCB7Zm9udFdlaWdodDogJ2JvbGQnfSkpOwogICAgbGkuYXBwZW5kKHNwYW4oCiAgICAgICAgYCgke2ZpbGUudHlwZSB8fCAnbi9hJ30pIC0gJHtmaWxlLnNpemV9IGJ5dGVzLCBgICsKICAgICAgICBgbGFzdCBtb2RpZmllZDogJHsKICAgICAgICAgICAgZmlsZS5sYXN0TW9kaWZpZWREYXRlID8gZmlsZS5sYXN0TW9kaWZpZWREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ24vYSd9IC0gYCkpOwogICAgY29uc3QgcGVyY2VudCA9IHNwYW4oJzAlIGRvbmUnKTsKICAgIGxpLmFwcGVuZENoaWxkKHBlcmNlbnQpOwoKICAgIG91dHB1dEVsZW1lbnQuYXBwZW5kQ2hpbGQobGkpOwoKICAgIGNvbnN0IGZpbGVEYXRhUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4gewogICAgICAgIHJlc29sdmUoZS50YXJnZXQucmVzdWx0KTsKICAgICAgfTsKICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpOwogICAgfSk7CiAgICAvLyBXYWl0IGZvciB0aGUgZGF0YSB0byBiZSByZWFkeS4KICAgIGxldCBmaWxlRGF0YSA9IHlpZWxkIHsKICAgICAgcHJvbWlzZTogZmlsZURhdGFQcm9taXNlLAogICAgICByZXNwb25zZTogewogICAgICAgIGFjdGlvbjogJ2NvbnRpbnVlJywKICAgICAgfQogICAgfTsKCiAgICAvLyBVc2UgYSBjaHVua2VkIHNlbmRpbmcgdG8gYXZvaWQgbWVzc2FnZSBzaXplIGxpbWl0cy4gU2VlIGIvNjIxMTU2NjAuCiAgICBsZXQgcG9zaXRpb24gPSAwOwogICAgZG8gewogICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbihmaWxlRGF0YS5ieXRlTGVuZ3RoIC0gcG9zaXRpb24sIE1BWF9QQVlMT0FEX1NJWkUpOwogICAgICBjb25zdCBjaHVuayA9IG5ldyBVaW50OEFycmF5KGZpbGVEYXRhLCBwb3NpdGlvbiwgbGVuZ3RoKTsKICAgICAgcG9zaXRpb24gKz0gbGVuZ3RoOwoKICAgICAgY29uc3QgYmFzZTY0ID0gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGNodW5rKSk7CiAgICAgIHlpZWxkIHsKICAgICAgICByZXNwb25zZTogewogICAgICAgICAgYWN0aW9uOiAnYXBwZW5kJywKICAgICAgICAgIGZpbGU6IGZpbGUubmFtZSwKICAgICAgICAgIGRhdGE6IGJhc2U2NCwKICAgICAgICB9LAogICAgICB9OwoKICAgICAgbGV0IHBlcmNlbnREb25lID0gZmlsZURhdGEuYnl0ZUxlbmd0aCA9PT0gMCA/CiAgICAgICAgICAxMDAgOgogICAgICAgICAgTWF0aC5yb3VuZCgocG9zaXRpb24gLyBmaWxlRGF0YS5ieXRlTGVuZ3RoKSAqIDEwMCk7CiAgICAgIHBlcmNlbnQudGV4dENvbnRlbnQgPSBgJHtwZXJjZW50RG9uZX0lIGRvbmVgOwoKICAgIH0gd2hpbGUgKHBvc2l0aW9uIDwgZmlsZURhdGEuYnl0ZUxlbmd0aCk7CiAgfQoKICAvLyBBbGwgZG9uZS4KICB5aWVsZCB7CiAgICByZXNwb25zZTogewogICAgICBhY3Rpb246ICdjb21wbGV0ZScsCiAgICB9CiAgfTsKfQoKc2NvcGUuZ29vZ2xlID0gc2NvcGUuZ29vZ2xlIHx8IHt9OwpzY29wZS5nb29nbGUuY29sYWIgPSBzY29wZS5nb29nbGUuY29sYWIgfHwge307CnNjb3BlLmdvb2dsZS5jb2xhYi5fZmlsZXMgPSB7CiAgX3VwbG9hZEZpbGVzLAogIF91cGxvYWRGaWxlc0NvbnRpbnVlLAp9Owp9KShzZWxmKTsK","ok":true,"headers":[["content-type","application/javascript"]],"status":200,"status_text":""}},"base_uri":"https://localhost:8080/","height":77},"id":"U_vZGo4E7D8q","executionInfo":{"status":"ok","timestamp":1651674765550,"user_tz":-540,"elapsed":32884,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"9a3c7a07-f8c7-402b-cbc8-4c617397673e"},"execution_count":151,"outputs":[{"output_type":"display_data","data":{"text/plain":["<IPython.core.display.HTML object>"],"text/html":["\n","     <input type=\"file\" id=\"files-986bde96-178f-483b-bd94-7f5e951a7739\" name=\"files[]\" multiple disabled\n","        style=\"border:none\" />\n","     <output id=\"result-986bde96-178f-483b-bd94-7f5e951a7739\">\n","      Upload widget is only available when the cell has been executed in the\n","      current browser session. Please rerun this cell to enable.\n","      </output>\n","      <script src=\"/nbextensions/google.colab/files.js\"></script> "]},"metadata":{}},{"output_type":"stream","name":"stdout","text":["Saving location.xlsx to location (1).xlsx\n"]}]},{"cell_type":"code","execution_count":152,"metadata":{"id":"jSIiUf2Y4pHs","colab":{"base_uri":"https://localhost:8080/","height":206},"executionInfo":{"status":"ok","timestamp":1651674771530,"user_tz":-540,"elapsed":5991,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"13c51952-b715-453c-eb24-c50d1ce3af42"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["       출발지역       출발위도        출발경도\n","0  종로구청운효자동  37.584009  126.970626\n","1    종로구사직동  37.575408  126.965944\n","2    종로구삼청동  37.590758  126.980996\n","3    종로구부암동  37.594768  126.965574\n","4    종로구평창동  37.613029  126.974485"],"text/html":["\n","  <div id=\"df-74dfe4ac-901c-407c-b090-547526109cca\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>출발지역</th>\n","      <th>출발위도</th>\n","      <th>출발경도</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>종로구청운효자동</td>\n","      <td>37.584009</td>\n","      <td>126.970626</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>종로구사직동</td>\n","      <td>37.575408</td>\n","      <td>126.965944</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>종로구삼청동</td>\n","      <td>37.590758</td>\n","      <td>126.980996</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>종로구부암동</td>\n","      <td>37.594768</td>\n","      <td>126.965574</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>종로구평창동</td>\n","      <td>37.613029</td>\n","      <td>126.974485</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-74dfe4ac-901c-407c-b090-547526109cca')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-74dfe4ac-901c-407c-b090-547526109cca button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-74dfe4ac-901c-407c-b090-547526109cca');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":152}],"source":["import pandas as pd\n","\n","pal1 = pd.read_excel(\"location.xlsx\")\n","\n","pal1 = pal1[pal1.시도 =='서울특별시']\n","pal1 = pal1[['시군구','읍면동','위도','경도']]\n","pal1['출발지역'] = pal1['시군구'] + pal1['읍면동']\n","pal1 = pal1[['출발지역','위도','경도']]\n","pal1 = pal1.rename(columns={'위도':'출발위도', '경도':'출발경도'})\n","\n","pal2 = pd.read_excel(\"location.xlsx\")\n","\n","pal2 = pal2[pal2.시도 =='서울특별시']\n","pal2 = pal2[['시군구','읍면동','위도','경도']]\n","pal2['도착지역'] = pal2['시군구'] + pal2['읍면동']\n","pal2 = pal2[['도착지역','위도','경도']]\n","pal2 = pal2.rename(columns={'위도':'도착위도', '경도':'도착경도'})\n","\n","pal1.head()"]},{"cell_type":"code","source":["pal2.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"id":"Kjj5XOYO792c","executionInfo":{"status":"ok","timestamp":1651674771531,"user_tz":-540,"elapsed":14,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"570678b6-8313-41ed-c1d9-f9145dfd9657"},"execution_count":153,"outputs":[{"output_type":"execute_result","data":{"text/plain":["       도착지역       도착위도        도착경도\n","0  종로구청운효자동  37.584009  126.970626\n","1    종로구사직동  37.575408  126.965944\n","2    종로구삼청동  37.590758  126.980996\n","3    종로구부암동  37.594768  126.965574\n","4    종로구평창동  37.613029  126.974485"],"text/html":["\n","  <div id=\"df-77d4989e-1170-4e0b-9bc9-2032f125c1d8\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>도착지역</th>\n","      <th>도착위도</th>\n","      <th>도착경도</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>종로구청운효자동</td>\n","      <td>37.584009</td>\n","      <td>126.970626</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>종로구사직동</td>\n","      <td>37.575408</td>\n","      <td>126.965944</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>종로구삼청동</td>\n","      <td>37.590758</td>\n","      <td>126.980996</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>종로구부암동</td>\n","      <td>37.594768</td>\n","      <td>126.965574</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>종로구평창동</td>\n","      <td>37.613029</td>\n","      <td>126.974485</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-77d4989e-1170-4e0b-9bc9-2032f125c1d8')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-77d4989e-1170-4e0b-9bc9-2032f125c1d8 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-77d4989e-1170-4e0b-9bc9-2032f125c1d8');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":153}]},{"cell_type":"code","source":["data = pd.merge(Calltaxi, pal1, on=\"출발지역\")\n","data = pd.merge(data, pal2, on=\"도착지역\")\n","data = data.drop_duplicates()\n","data"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"id":"G3v07Qdg6GCc","executionInfo":{"status":"ok","timestamp":1651674771531,"user_tz":-540,"elapsed":13,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"b05811d4-b509-43fa-d83c-197b153811ef"},"execution_count":154,"outputs":[{"output_type":"execute_result","data":{"text/plain":["         no       출발지역       도착지역       출발위도        출발경도       도착위도  \\\n","0      8196   성북구장위제3동     종로구이화동  37.589440  127.016817  37.577245   \n","1      8196   성북구장위제3동     종로구이화동  37.589440  127.016817  37.577066   \n","2      3205  노원구상계6.7동     종로구이화동  37.654919  127.066919  37.577245   \n","3      3205  노원구상계6.7동     종로구이화동  37.654919  127.066919  37.577066   \n","4      4874   구로구오류제2동     종로구이화동  37.495650  126.887771  37.577245   \n","...     ...        ...        ...        ...         ...        ...   \n","40764  3689     용산구한남동     성동구옥수동  37.533889  127.003955  37.540788   \n","40765  3689     용산구한남동     성동구옥수동  37.533889  127.003955  37.542764   \n","40766  1407     강북구우이동  용산구원효로제2동  37.663286  127.000508  37.532612   \n","40767  1407     강북구우이동  용산구원효로제2동  37.658785  127.011190  37.532612   \n","40768  5753   용산구용산2가동   구로구개봉제2동  37.542884  126.985008  37.495650   \n","\n","             도착경도  \n","0      127.005622  \n","1      127.006358  \n","2      127.005622  \n","3      127.006358  \n","4      127.005622  \n","...           ...  \n","40764  127.020624  \n","40765  127.014662  \n","40766  126.990182  \n","40767  126.990182  \n","40768  126.887771  \n","\n","[27142 rows x 7 columns]"],"text/html":["\n","  <div id=\"df-050f6c52-cf1f-41ce-b01f-c902a5f924d9\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>no</th>\n","      <th>출발지역</th>\n","      <th>도착지역</th>\n","      <th>출발위도</th>\n","      <th>출발경도</th>\n","      <th>도착위도</th>\n","      <th>도착경도</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>8196</td>\n","      <td>성북구장위제3동</td>\n","      <td>종로구이화동</td>\n","      <td>37.589440</td>\n","      <td>127.016817</td>\n","      <td>37.577245</td>\n","      <td>127.005622</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>8196</td>\n","      <td>성북구장위제3동</td>\n","      <td>종로구이화동</td>\n","      <td>37.589440</td>\n","      <td>127.016817</td>\n","      <td>37.577066</td>\n","      <td>127.006358</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>3205</td>\n","      <td>노원구상계6.7동</td>\n","      <td>종로구이화동</td>\n","      <td>37.654919</td>\n","      <td>127.066919</td>\n","      <td>37.577245</td>\n","      <td>127.005622</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>3205</td>\n","      <td>노원구상계6.7동</td>\n","      <td>종로구이화동</td>\n","      <td>37.654919</td>\n","      <td>127.066919</td>\n","      <td>37.577066</td>\n","      <td>127.006358</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>4874</td>\n","      <td>구로구오류제2동</td>\n","      <td>종로구이화동</td>\n","      <td>37.495650</td>\n","      <td>126.887771</td>\n","      <td>37.577245</td>\n","      <td>127.005622</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>40764</th>\n","      <td>3689</td>\n","      <td>용산구한남동</td>\n","      <td>성동구옥수동</td>\n","      <td>37.533889</td>\n","      <td>127.003955</td>\n","      <td>37.540788</td>\n","      <td>127.020624</td>\n","    </tr>\n","    <tr>\n","      <th>40765</th>\n","      <td>3689</td>\n","      <td>용산구한남동</td>\n","      <td>성동구옥수동</td>\n","      <td>37.533889</td>\n","      <td>127.003955</td>\n","      <td>37.542764</td>\n","      <td>127.014662</td>\n","    </tr>\n","    <tr>\n","      <th>40766</th>\n","      <td>1407</td>\n","      <td>강북구우이동</td>\n","      <td>용산구원효로제2동</td>\n","      <td>37.663286</td>\n","      <td>127.000508</td>\n","      <td>37.532612</td>\n","      <td>126.990182</td>\n","    </tr>\n","    <tr>\n","      <th>40767</th>\n","      <td>1407</td>\n","      <td>강북구우이동</td>\n","      <td>용산구원효로제2동</td>\n","      <td>37.658785</td>\n","      <td>127.011190</td>\n","      <td>37.532612</td>\n","      <td>126.990182</td>\n","    </tr>\n","    <tr>\n","      <th>40768</th>\n","      <td>5753</td>\n","      <td>용산구용산2가동</td>\n","      <td>구로구개봉제2동</td>\n","      <td>37.542884</td>\n","      <td>126.985008</td>\n","      <td>37.495650</td>\n","      <td>126.887771</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>27142 rows × 7 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-050f6c52-cf1f-41ce-b01f-c902a5f924d9')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-050f6c52-cf1f-41ce-b01f-c902a5f924d9 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-050f6c52-cf1f-41ce-b01f-c902a5f924d9');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":154}]},{"cell_type":"code","source":["from google.colab import files\n","myfile = files.upload()\n","start = pd.read_csv(\"startD.csv\")\n","\n","myfile = files.upload()\n","end = pd.read_csv(\"endD.csv\")"],"metadata":{"colab":{"resources":{"http://localhost:8080/nbextensions/google.colab/files.js":{"data":"Ly8gQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQwovLwovLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgovLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKLy8KLy8gICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKLy8KLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQovLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAovLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAovLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCi8qKgogKiBAZmlsZW92ZXJ2aWV3IEhlbHBlcnMgZm9yIGdvb2dsZS5jb2xhYiBQeXRob24gbW9kdWxlLgogKi8KKGZ1bmN0aW9uKHNjb3BlKSB7CmZ1bmN0aW9uIHNwYW4odGV4dCwgc3R5bGVBdHRyaWJ1dGVzID0ge30pIHsKICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0OwogIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHN0eWxlQXR0cmlidXRlcykpIHsKICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHN0eWxlQXR0cmlidXRlc1trZXldOwogIH0KICByZXR1cm4gZWxlbWVudDsKfQoKLy8gTWF4IG51bWJlciBvZiBieXRlcyB3aGljaCB3aWxsIGJlIHVwbG9hZGVkIGF0IGEgdGltZS4KY29uc3QgTUFYX1BBWUxPQURfU0laRSA9IDEwMCAqIDEwMjQ7CgpmdW5jdGlvbiBfdXBsb2FkRmlsZXMoaW5wdXRJZCwgb3V0cHV0SWQpIHsKICBjb25zdCBzdGVwcyA9IHVwbG9hZEZpbGVzU3RlcChpbnB1dElkLCBvdXRwdXRJZCk7CiAgY29uc3Qgb3V0cHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG91dHB1dElkKTsKICAvLyBDYWNoZSBzdGVwcyBvbiB0aGUgb3V0cHV0RWxlbWVudCB0byBtYWtlIGl0IGF2YWlsYWJsZSBmb3IgdGhlIG5leHQgY2FsbAogIC8vIHRvIHVwbG9hZEZpbGVzQ29udGludWUgZnJvbSBQeXRob24uCiAgb3V0cHV0RWxlbWVudC5zdGVwcyA9IHN0ZXBzOwoKICByZXR1cm4gX3VwbG9hZEZpbGVzQ29udGludWUob3V0cHV0SWQpOwp9CgovLyBUaGlzIGlzIHJvdWdobHkgYW4gYXN5bmMgZ2VuZXJhdG9yIChub3Qgc3VwcG9ydGVkIGluIHRoZSBicm93c2VyIHlldCksCi8vIHdoZXJlIHRoZXJlIGFyZSBtdWx0aXBsZSBhc3luY2hyb25vdXMgc3RlcHMgYW5kIHRoZSBQeXRob24gc2lkZSBpcyBnb2luZwovLyB0byBwb2xsIGZvciBjb21wbGV0aW9uIG9mIGVhY2ggc3RlcC4KLy8gVGhpcyB1c2VzIGEgUHJvbWlzZSB0byBibG9jayB0aGUgcHl0aG9uIHNpZGUgb24gY29tcGxldGlvbiBvZiBlYWNoIHN0ZXAsCi8vIHRoZW4gcGFzc2VzIHRoZSByZXN1bHQgb2YgdGhlIHByZXZpb3VzIHN0ZXAgYXMgdGhlIGlucHV0IHRvIHRoZSBuZXh0IHN0ZXAuCmZ1bmN0aW9uIF91cGxvYWRGaWxlc0NvbnRpbnVlKG91dHB1dElkKSB7CiAgY29uc3Qgb3V0cHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG91dHB1dElkKTsKICBjb25zdCBzdGVwcyA9IG91dHB1dEVsZW1lbnQuc3RlcHM7CgogIGNvbnN0IG5leHQgPSBzdGVwcy5uZXh0KG91dHB1dEVsZW1lbnQubGFzdFByb21pc2VWYWx1ZSk7CiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXh0LnZhbHVlLnByb21pc2UpLnRoZW4oKHZhbHVlKSA9PiB7CiAgICAvLyBDYWNoZSB0aGUgbGFzdCBwcm9taXNlIHZhbHVlIHRvIG1ha2UgaXQgYXZhaWxhYmxlIHRvIHRoZSBuZXh0CiAgICAvLyBzdGVwIG9mIHRoZSBnZW5lcmF0b3IuCiAgICBvdXRwdXRFbGVtZW50Lmxhc3RQcm9taXNlVmFsdWUgPSB2YWx1ZTsKICAgIHJldHVybiBuZXh0LnZhbHVlLnJlc3BvbnNlOwogIH0pOwp9CgovKioKICogR2VuZXJhdG9yIGZ1bmN0aW9uIHdoaWNoIGlzIGNhbGxlZCBiZXR3ZWVuIGVhY2ggYXN5bmMgc3RlcCBvZiB0aGUgdXBsb2FkCiAqIHByb2Nlc3MuCiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dElkIEVsZW1lbnQgSUQgb2YgdGhlIGlucHV0IGZpbGUgcGlja2VyIGVsZW1lbnQuCiAqIEBwYXJhbSB7c3RyaW5nfSBvdXRwdXRJZCBFbGVtZW50IElEIG9mIHRoZSBvdXRwdXQgZGlzcGxheS4KICogQHJldHVybiB7IUl0ZXJhYmxlPCFPYmplY3Q+fSBJdGVyYWJsZSBvZiBuZXh0IHN0ZXBzLgogKi8KZnVuY3Rpb24qIHVwbG9hZEZpbGVzU3RlcChpbnB1dElkLCBvdXRwdXRJZCkgewogIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0SWQpOwogIGlucHV0RWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlOwoKICBjb25zdCBvdXRwdXRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3V0cHV0SWQpOwogIG91dHB1dEVsZW1lbnQuaW5uZXJIVE1MID0gJyc7CgogIGNvbnN0IHBpY2tlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7CiAgICAgIHJlc29sdmUoZS50YXJnZXQuZmlsZXMpOwogICAgfSk7CiAgfSk7CgogIGNvbnN0IGNhbmNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOwogIGlucHV0RWxlbWVudC5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGNhbmNlbCk7CiAgY2FuY2VsLnRleHRDb250ZW50ID0gJ0NhbmNlbCB1cGxvYWQnOwogIGNvbnN0IGNhbmNlbFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gewogICAgY2FuY2VsLm9uY2xpY2sgPSAoKSA9PiB7CiAgICAgIHJlc29sdmUobnVsbCk7CiAgICB9OwogIH0pOwoKICAvLyBXYWl0IGZvciB0aGUgdXNlciB0byBwaWNrIHRoZSBmaWxlcy4KICBjb25zdCBmaWxlcyA9IHlpZWxkIHsKICAgIHByb21pc2U6IFByb21pc2UucmFjZShbcGlja2VkUHJvbWlzZSwgY2FuY2VsUHJvbWlzZV0pLAogICAgcmVzcG9uc2U6IHsKICAgICAgYWN0aW9uOiAnc3RhcnRpbmcnLAogICAgfQogIH07CgogIGNhbmNlbC5yZW1vdmUoKTsKCiAgLy8gRGlzYWJsZSB0aGUgaW5wdXQgZWxlbWVudCBzaW5jZSBmdXJ0aGVyIHBpY2tzIGFyZSBub3QgYWxsb3dlZC4KICBpbnB1dEVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlOwoKICBpZiAoIWZpbGVzKSB7CiAgICByZXR1cm4gewogICAgICByZXNwb25zZTogewogICAgICAgIGFjdGlvbjogJ2NvbXBsZXRlJywKICAgICAgfQogICAgfTsKICB9CgogIGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykgewogICAgY29uc3QgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpOwogICAgbGkuYXBwZW5kKHNwYW4oZmlsZS5uYW1lLCB7Zm9udFdlaWdodDogJ2JvbGQnfSkpOwogICAgbGkuYXBwZW5kKHNwYW4oCiAgICAgICAgYCgke2ZpbGUudHlwZSB8fCAnbi9hJ30pIC0gJHtmaWxlLnNpemV9IGJ5dGVzLCBgICsKICAgICAgICBgbGFzdCBtb2RpZmllZDogJHsKICAgICAgICAgICAgZmlsZS5sYXN0TW9kaWZpZWREYXRlID8gZmlsZS5sYXN0TW9kaWZpZWREYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygpIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ24vYSd9IC0gYCkpOwogICAgY29uc3QgcGVyY2VudCA9IHNwYW4oJzAlIGRvbmUnKTsKICAgIGxpLmFwcGVuZENoaWxkKHBlcmNlbnQpOwoKICAgIG91dHB1dEVsZW1lbnQuYXBwZW5kQ2hpbGQobGkpOwoKICAgIGNvbnN0IGZpbGVEYXRhUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7CiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4gewogICAgICAgIHJlc29sdmUoZS50YXJnZXQucmVzdWx0KTsKICAgICAgfTsKICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGZpbGUpOwogICAgfSk7CiAgICAvLyBXYWl0IGZvciB0aGUgZGF0YSB0byBiZSByZWFkeS4KICAgIGxldCBmaWxlRGF0YSA9IHlpZWxkIHsKICAgICAgcHJvbWlzZTogZmlsZURhdGFQcm9taXNlLAogICAgICByZXNwb25zZTogewogICAgICAgIGFjdGlvbjogJ2NvbnRpbnVlJywKICAgICAgfQogICAgfTsKCiAgICAvLyBVc2UgYSBjaHVua2VkIHNlbmRpbmcgdG8gYXZvaWQgbWVzc2FnZSBzaXplIGxpbWl0cy4gU2VlIGIvNjIxMTU2NjAuCiAgICBsZXQgcG9zaXRpb24gPSAwOwogICAgZG8gewogICAgICBjb25zdCBsZW5ndGggPSBNYXRoLm1pbihmaWxlRGF0YS5ieXRlTGVuZ3RoIC0gcG9zaXRpb24sIE1BWF9QQVlMT0FEX1NJWkUpOwogICAgICBjb25zdCBjaHVuayA9IG5ldyBVaW50OEFycmF5KGZpbGVEYXRhLCBwb3NpdGlvbiwgbGVuZ3RoKTsKICAgICAgcG9zaXRpb24gKz0gbGVuZ3RoOwoKICAgICAgY29uc3QgYmFzZTY0ID0gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGNodW5rKSk7CiAgICAgIHlpZWxkIHsKICAgICAgICByZXNwb25zZTogewogICAgICAgICAgYWN0aW9uOiAnYXBwZW5kJywKICAgICAgICAgIGZpbGU6IGZpbGUubmFtZSwKICAgICAgICAgIGRhdGE6IGJhc2U2NCwKICAgICAgICB9LAogICAgICB9OwoKICAgICAgbGV0IHBlcmNlbnREb25lID0gZmlsZURhdGEuYnl0ZUxlbmd0aCA9PT0gMCA/CiAgICAgICAgICAxMDAgOgogICAgICAgICAgTWF0aC5yb3VuZCgocG9zaXRpb24gLyBmaWxlRGF0YS5ieXRlTGVuZ3RoKSAqIDEwMCk7CiAgICAgIHBlcmNlbnQudGV4dENvbnRlbnQgPSBgJHtwZXJjZW50RG9uZX0lIGRvbmVgOwoKICAgIH0gd2hpbGUgKHBvc2l0aW9uIDwgZmlsZURhdGEuYnl0ZUxlbmd0aCk7CiAgfQoKICAvLyBBbGwgZG9uZS4KICB5aWVsZCB7CiAgICByZXNwb25zZTogewogICAgICBhY3Rpb246ICdjb21wbGV0ZScsCiAgICB9CiAgfTsKfQoKc2NvcGUuZ29vZ2xlID0gc2NvcGUuZ29vZ2xlIHx8IHt9OwpzY29wZS5nb29nbGUuY29sYWIgPSBzY29wZS5nb29nbGUuY29sYWIgfHwge307CnNjb3BlLmdvb2dsZS5jb2xhYi5fZmlsZXMgPSB7CiAgX3VwbG9hZEZpbGVzLAogIF91cGxvYWRGaWxlc0NvbnRpbnVlLAp9Owp9KShzZWxmKTsK","ok":true,"headers":[["content-type","application/javascript"]],"status":200,"status_text":""}},"base_uri":"https://localhost:8080/","height":137},"id":"vNhrKLZeANTj","executionInfo":{"status":"ok","timestamp":1651675100971,"user_tz":-540,"elapsed":329451,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"df1f04fe-04fd-465a-de08-769b9bccfecb"},"execution_count":155,"outputs":[{"output_type":"display_data","data":{"text/plain":["<IPython.core.display.HTML object>"],"text/html":["\n","     <input type=\"file\" id=\"files-54756fdf-88b8-4813-bbd8-ade0c45ce292\" name=\"files[]\" multiple disabled\n","        style=\"border:none\" />\n","     <output id=\"result-54756fdf-88b8-4813-bbd8-ade0c45ce292\">\n","      Upload widget is only available when the cell has been executed in the\n","      current browser session. Please rerun this cell to enable.\n","      </output>\n","      <script src=\"/nbextensions/google.colab/files.js\"></script> "]},"metadata":{}},{"output_type":"stream","name":"stdout","text":["Saving startD.csv to startD (6).csv\n"]},{"output_type":"display_data","data":{"text/plain":["<IPython.core.display.HTML object>"],"text/html":["\n","     <input type=\"file\" id=\"files-c3259878-b440-4b68-a089-84323be20748\" name=\"files[]\" multiple disabled\n","        style=\"border:none\" />\n","     <output id=\"result-c3259878-b440-4b68-a089-84323be20748\">\n","      Upload widget is only available when the cell has been executed in the\n","      current browser session. Please rerun this cell to enable.\n","      </output>\n","      <script src=\"/nbextensions/google.colab/files.js\"></script> "]},"metadata":{}},{"output_type":"stream","name":"stdout","text":["Saving endD.csv to endD (5).csv\n"]}]},{"cell_type":"code","source":["start = start.rename(columns={'Unnamed: 0':'출발지역', 'startpos2':'출발합계'})\n","end = end.rename(columns={'Unnamed: 0':'도착지역', 'endpos2':'도착합계'})"],"metadata":{"id":"Slk7j-D-C48c","executionInfo":{"status":"ok","timestamp":1651675100971,"user_tz":-540,"elapsed":14,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":156,"outputs":[]},{"cell_type":"code","source":["end.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"id":"UP90z_o6C-p3","executionInfo":{"status":"ok","timestamp":1651675100972,"user_tz":-540,"elapsed":14,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"d303ecc1-f0b5-40e2-a988-d355be119d74"},"execution_count":157,"outputs":[{"output_type":"execute_result","data":{"text/plain":["     도착지역  도착합계\n","0     신촌동  1096\n","1   둔촌제2동   642\n","2     여의동   639\n","3  상계6.7동   631\n","4     역촌동   623"],"text/html":["\n","  <div id=\"df-35220133-d064-44dc-91c9-cf82c3f49694\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>도착지역</th>\n","      <th>도착합계</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>신촌동</td>\n","      <td>1096</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>둔촌제2동</td>\n","      <td>642</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>여의동</td>\n","      <td>639</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>상계6.7동</td>\n","      <td>631</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>역촌동</td>\n","      <td>623</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-35220133-d064-44dc-91c9-cf82c3f49694')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-35220133-d064-44dc-91c9-cf82c3f49694 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-35220133-d064-44dc-91c9-cf82c3f49694');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":157}]},{"cell_type":"code","source":["pal3 = pd.read_excel(\"location.xlsx\")\n","\n","pal3 = pal3[pal3.시도 =='서울특별시']\n","pal3 = pal3[['시군구','읍면동']]\n","pal3 = pal3.rename(columns={'읍면동':'출발지역'})\n","\n","pal4 = pd.read_excel(\"location.xlsx\")\n","\n","pal4 = pal4[pal4.시도 =='서울특별시']\n","pal4 = pal4[['시군구','읍면동']]\n","pal4 = pal4.rename(columns={'읍면동':'도착지역'})\n","\n","sumofstart = pd.merge(start, pal3, on=\"출발지역\")\n","sumofstart['출발지역'] = sumofstart['시군구'] + sumofstart['출발지역']\n","sumofstart = sumofstart[['출발지역' ,'출발합계']]\n","\n","sumofstart"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"id":"GMuuJ2bkAl-X","executionInfo":{"status":"ok","timestamp":1651675108396,"user_tz":-540,"elapsed":7437,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"7ee78c25-b235-4185-bf28-6fdd68709dbe"},"execution_count":158,"outputs":[{"output_type":"execute_result","data":{"text/plain":["          출발지역  출발합계\n","0     강서구가양제2동   469\n","1     강서구등촌제3동   429\n","2       강남구세곡동   394\n","3       강남구세곡동   394\n","4    노원구중계2.3동   383\n","..         ...   ...\n","490    송파구잠실3동     1\n","491    양천구신정6동     1\n","492    서초구반포3동     1\n","493    강남구대치2동     1\n","494  용산구이태원제2동     1\n","\n","[495 rows x 2 columns]"],"text/html":["\n","  <div id=\"df-5c69e282-14af-4818-a035-2c822e921b32\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>출발지역</th>\n","      <th>출발합계</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>강서구가양제2동</td>\n","      <td>469</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>강서구등촌제3동</td>\n","      <td>429</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>강남구세곡동</td>\n","      <td>394</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>강남구세곡동</td>\n","      <td>394</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>노원구중계2.3동</td>\n","      <td>383</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>490</th>\n","      <td>송파구잠실3동</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>491</th>\n","      <td>양천구신정6동</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>492</th>\n","      <td>서초구반포3동</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>493</th>\n","      <td>강남구대치2동</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>494</th>\n","      <td>용산구이태원제2동</td>\n","      <td>1</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>495 rows × 2 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-5c69e282-14af-4818-a035-2c822e921b32')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-5c69e282-14af-4818-a035-2c822e921b32 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-5c69e282-14af-4818-a035-2c822e921b32');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":158}]},{"cell_type":"code","source":["sumofend = pd.merge(end, pal4, on=\"도착지역\")\n","sumofend['도착지역'] = sumofend['시군구'] + sumofend['도착지역']\n","sumofend = sumofend[['도착지역' ,'도착합계']]\n","\n","sumofend"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"id":"h3PBBPEEB8rZ","executionInfo":{"status":"ok","timestamp":1651675108397,"user_tz":-540,"elapsed":16,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"43c0a87f-d742-4978-9dcb-9c5873d3d6e8"},"execution_count":159,"outputs":[{"output_type":"execute_result","data":{"text/plain":["          도착지역  도착합계\n","0      서대문구신촌동  1096\n","1      서대문구신촌동  1096\n","2     강동구둔촌제2동   642\n","3      영등포구여의동   639\n","4    노원구상계6.7동   631\n","..         ...   ...\n","484     마포구서강동     1\n","485  동대문구이문제1동     1\n","486   동작구사당제5동     1\n","487  용산구원효로제2동     1\n","488  동대문구전농제1동     1\n","\n","[489 rows x 2 columns]"],"text/html":["\n","  <div id=\"df-d91b598f-8b30-41fb-bb74-1c8b13699044\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>도착지역</th>\n","      <th>도착합계</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>서대문구신촌동</td>\n","      <td>1096</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>서대문구신촌동</td>\n","      <td>1096</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>강동구둔촌제2동</td>\n","      <td>642</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>영등포구여의동</td>\n","      <td>639</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>노원구상계6.7동</td>\n","      <td>631</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>484</th>\n","      <td>마포구서강동</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>485</th>\n","      <td>동대문구이문제1동</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>486</th>\n","      <td>동작구사당제5동</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>487</th>\n","      <td>용산구원효로제2동</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>488</th>\n","      <td>동대문구전농제1동</td>\n","      <td>1</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>489 rows × 2 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-d91b598f-8b30-41fb-bb74-1c8b13699044')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-d91b598f-8b30-41fb-bb74-1c8b13699044 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-d91b598f-8b30-41fb-bb74-1c8b13699044');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":159}]},{"cell_type":"code","source":["data = pd.merge(data, sumofstart, on=\"출발지역\")\n","data = pd.merge(data, sumofend, on=\"도착지역\")\n","data = data.drop_duplicates()\n","data = data[['출발지역', '도착지역', '출발위도', '출발경도', '도착위도' ,'도착경도', '출발합계' ,'도착합계']]\n","data"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":423},"id":"8y5Ayc3mEXw5","executionInfo":{"status":"ok","timestamp":1651675108398,"user_tz":-540,"elapsed":16,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"bcf51f1a-7894-43d9-b5b4-09c01720a367"},"execution_count":160,"outputs":[{"output_type":"execute_result","data":{"text/plain":["             출발지역      도착지역       출발위도        출발경도       도착위도        도착경도  \\\n","0        성북구장위제3동    종로구이화동  37.589440  127.016817  37.577245  127.005622   \n","2        성북구장위제3동    종로구이화동  37.589440  127.016817  37.577066  127.006358   \n","4       노원구상계6.7동    종로구이화동  37.654919  127.066919  37.577245  127.005622   \n","6       노원구상계6.7동    종로구이화동  37.654919  127.066919  37.577066  127.006358   \n","8        구로구오류제2동    종로구이화동  37.495650  126.887771  37.577245  127.005622   \n","...           ...       ...        ...         ...        ...         ...   \n","55179  성동구금호2.3가동  성동구금호4가동  37.549549  127.019842  37.545404  127.024129   \n","55180  성동구금호2.3가동  성동구금호4가동  37.549549  127.019842  37.545404  127.024129   \n","55181  성동구금호2.3가동  성동구금호4가동  37.549549  127.019842  37.545404  127.024129   \n","55182  성동구금호2.3가동  성동구금호4가동  37.549549  127.019842  37.545404  127.024129   \n","55183  성동구금호2.3가동  성동구금호4가동  37.549549  127.019842  37.545404  127.024129   \n","\n","       출발합계  도착합계  \n","0        16   478  \n","2        16   478  \n","4        82   478  \n","6        82   478  \n","8       225   478  \n","...     ...   ...  \n","55179    26    16  \n","55180    26    16  \n","55181    26    16  \n","55182    26    16  \n","55183    26    16  \n","\n","[27142 rows x 8 columns]"],"text/html":["\n","  <div id=\"df-48641df4-70c1-475f-ba67-b1dc69a90a6a\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>출발지역</th>\n","      <th>도착지역</th>\n","      <th>출발위도</th>\n","      <th>출발경도</th>\n","      <th>도착위도</th>\n","      <th>도착경도</th>\n","      <th>출발합계</th>\n","      <th>도착합계</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>성북구장위제3동</td>\n","      <td>종로구이화동</td>\n","      <td>37.589440</td>\n","      <td>127.016817</td>\n","      <td>37.577245</td>\n","      <td>127.005622</td>\n","      <td>16</td>\n","      <td>478</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>성북구장위제3동</td>\n","      <td>종로구이화동</td>\n","      <td>37.589440</td>\n","      <td>127.016817</td>\n","      <td>37.577066</td>\n","      <td>127.006358</td>\n","      <td>16</td>\n","      <td>478</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>노원구상계6.7동</td>\n","      <td>종로구이화동</td>\n","      <td>37.654919</td>\n","      <td>127.066919</td>\n","      <td>37.577245</td>\n","      <td>127.005622</td>\n","      <td>82</td>\n","      <td>478</td>\n","    </tr>\n","    <tr>\n","      <th>6</th>\n","      <td>노원구상계6.7동</td>\n","      <td>종로구이화동</td>\n","      <td>37.654919</td>\n","      <td>127.066919</td>\n","      <td>37.577066</td>\n","      <td>127.006358</td>\n","      <td>82</td>\n","      <td>478</td>\n","    </tr>\n","    <tr>\n","      <th>8</th>\n","      <td>구로구오류제2동</td>\n","      <td>종로구이화동</td>\n","      <td>37.495650</td>\n","      <td>126.887771</td>\n","      <td>37.577245</td>\n","      <td>127.005622</td>\n","      <td>225</td>\n","      <td>478</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>55179</th>\n","      <td>성동구금호2.3가동</td>\n","      <td>성동구금호4가동</td>\n","      <td>37.549549</td>\n","      <td>127.019842</td>\n","      <td>37.545404</td>\n","      <td>127.024129</td>\n","      <td>26</td>\n","      <td>16</td>\n","    </tr>\n","    <tr>\n","      <th>55180</th>\n","      <td>성동구금호2.3가동</td>\n","      <td>성동구금호4가동</td>\n","      <td>37.549549</td>\n","      <td>127.019842</td>\n","      <td>37.545404</td>\n","      <td>127.024129</td>\n","      <td>26</td>\n","      <td>16</td>\n","    </tr>\n","    <tr>\n","      <th>55181</th>\n","      <td>성동구금호2.3가동</td>\n","      <td>성동구금호4가동</td>\n","      <td>37.549549</td>\n","      <td>127.019842</td>\n","      <td>37.545404</td>\n","      <td>127.024129</td>\n","      <td>26</td>\n","      <td>16</td>\n","    </tr>\n","    <tr>\n","      <th>55182</th>\n","      <td>성동구금호2.3가동</td>\n","      <td>성동구금호4가동</td>\n","      <td>37.549549</td>\n","      <td>127.019842</td>\n","      <td>37.545404</td>\n","      <td>127.024129</td>\n","      <td>26</td>\n","      <td>16</td>\n","    </tr>\n","    <tr>\n","      <th>55183</th>\n","      <td>성동구금호2.3가동</td>\n","      <td>성동구금호4가동</td>\n","      <td>37.549549</td>\n","      <td>127.019842</td>\n","      <td>37.545404</td>\n","      <td>127.024129</td>\n","      <td>26</td>\n","      <td>16</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>27142 rows × 8 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-48641df4-70c1-475f-ba67-b1dc69a90a6a')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-48641df4-70c1-475f-ba67-b1dc69a90a6a button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-48641df4-70c1-475f-ba67-b1dc69a90a6a');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":160}]},{"cell_type":"code","source":["point = data.values.tolist()\n","start_list = []\n","end_list = []\n","\n","for i in range(27142):\n","  startpoint = point[i][2:4]\n","  endpoint = point[i][4:6]\n","  start_list.append(startpoint)\n","  end_list.append(endpoint)\n","  i  = i + 1"],"metadata":{"id":"_zxnK1f3dY2M","executionInfo":{"status":"ok","timestamp":1651675108398,"user_tz":-540,"elapsed":15,"user":{"displayName":"김찬호","userId":"01695806597104941954"}}},"execution_count":161,"outputs":[]},{"cell_type":"code","source":["data.loc[0, '출발합계']"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"5vfTxiJSKUut","executionInfo":{"status":"ok","timestamp":1651675108399,"user_tz":-540,"elapsed":16,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"b995e2de-3f2a-43f7-e84e-2afb5a453f7c"},"execution_count":162,"outputs":[{"output_type":"execute_result","data":{"text/plain":["16"]},"metadata":{},"execution_count":162}]},{"cell_type":"code","source":["data.loc[0, \"출발경도\"]"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"aCd05aiwb3eM","executionInfo":{"status":"ok","timestamp":1651675108399,"user_tz":-540,"elapsed":14,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"8d0dd702-1593-4d4d-b266-b1689433074b"},"execution_count":163,"outputs":[{"output_type":"execute_result","data":{"text/plain":["127.016817"]},"metadata":{},"execution_count":163}]},{"cell_type":"code","source":["import folium\n","from folium import plugins\n","map_data = folium.Map([37.541, 126.986], zoom_start=10)\n","\n","for i in range(27142):\n","  folium.CircleMarker([[data.loc[i, \"출발위도\"],data.loc[i, \"출발경도\"]], radius=data.loc[i, \"출발합계\"], color='blue').add_to(map_data)\n","  folium.CircleMarker([[data.loc[i, \"도착위도\"],data.loc[i, \"도착경도\"]], radius=data.loc[i, \"도착합계\"], color='red').add_to(map_data)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":136},"id":"1Nz4-Qas7tkC","executionInfo":{"status":"error","timestamp":1651675276153,"user_tz":-540,"elapsed":382,"user":{"displayName":"김찬호","userId":"01695806597104941954"}},"outputId":"362e5d27-6b46-460a-fb86-0ffa492a4c22"},"execution_count":167,"outputs":[{"output_type":"error","ename":"SyntaxError","evalue":"ignored","traceback":["\u001b[0;36m  File \u001b[0;32m\"<ipython-input-167-a932181a03d4>\"\u001b[0;36m, line \u001b[0;32m6\u001b[0m\n\u001b[0;31m    folium.CircleMarker([[data.loc[i, \"출발위도\"],data.loc[i, \"출발경도\"]], radius=data.loc[i, \"출발합계\"], color='blue').add_to(map_data)\u001b[0m\n\u001b[0m                                                                          ^\u001b[0m\n\u001b[0;31mSyntaxError\u001b[0m\u001b[0;31m:\u001b[0m invalid syntax\n"]}]},{"cell_type":"code","source":[""],"metadata":{"id":"gHU89k9SIScI"},"execution_count":null,"outputs":[]}],"metadata":{"colab":{"name":"disabledCalltaxi","provenance":[],"collapsed_sections":[],"authorship_tag":"ABX9TyPIIWaUvNmjvaVWFM1Mxl1L"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}